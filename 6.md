# Mechanism: Limited Direct Execution
- to virtualize the CPU, OS needs to somehow share the physical CPU
- basic idea: run one process for a little while then run another one ...
    - time sharing
- challenges:
    - performance
    - control

## Basic Technique: Limited Direct Execution
- direct execution: just run the program directly on the CPU
- OS:
    1. create entry for process list
    2. allocate memory for program
    3. program into memory
    4. set up stack with argc/argv
    5. clear registers
    6. execute call main()
    9. free memory of process
    10. remove from process list
- program:
    7. run main
    8. execute return from main
- few problems
1. if running a program, how can the OS make sure the program doesn't do anything that we don't want it to do still running it effectively?
2. when running a process, how does the OS stop it from running and switching to another process?
